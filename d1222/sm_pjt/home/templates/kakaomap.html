{% extends 'base.html' %}
{% block title %}Kakao 지도 시작하기{% endblock %}
{% block css-block %}
  <style>
	*{
		margin:0 auto;
	}
  </style>
{% endblock %}
{% block body-block %}
<body>
	<div id="map" style="width:500px;height:400px;"></div>
	<script>
		//https://apis.map.kakao.com/web/sample/multipleMarkerControl/
		
		/*var container = document.getElementById('map');
		var options = {
			center: new kakao.maps.LatLng(37.477105, 126.879731),
			level: 1
		};

		var map = new kakao.maps.Map(container, options);*/

		var mapContainer = document.getElementById('map'), // 지도를 표시할 div
        mapOption = {
            center: new kakao.maps.LatLng(37.477105, 126.879731), // 지도의 중심좌표
            level: 3 // 지도의 확대 레벨
        };
        var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

		// 지도에 표시된 마커 객체를 가지고 있을 배열입니다
		var markers = [];
		// 마커를 생성하고 지도위에 표시하는 함수입니다
		function addMarker(position) {
			
			// 마커를 생성합니다
			var marker = new kakao.maps.Marker({
				position: position
			});

			// 마커가 지도 위에 표시되도록 설정합니다
			marker.setMap(map);
			
			// 생성된 마커를 배열에 추가합니다
			markers.push(marker);
		}

		kakao.maps.event.addListener(map, 'click', function(mouseEvent) {        
			// 클릭한 위치에 마커를 표시합니다 
			addMarker(mouseEvent.latLng);             
		});

		function setMarkers(map) {
			for (var i = 0; i < markers.length; i++) {
				markers[i].setMap(map);
			}            
		}

		// "마커 보이기" 버튼을 클릭하면 호출되어 배열에 추가된 마커를 지도에 표시하는 함수입니다
		function showMarkers() {
			setMarkers(map)    
		}

		// "마커 감추기" 버튼을 클릭하면 호출되어 배열에 추가된 마커를 지도에서 삭제하는 함수입니다
		function hideMarkers() {
			setMarkers(null);    
		}

        // 마커를 표시할 위치와 title 객체 배열입니다
        var positions = [
            {
                title: '한라원앤원타워',
                latlng: new kakao.maps.LatLng(37.476933, 126.879167)
            },
            {
                title: '서울 팀아쿠아 수족관',
                latlng: new kakao.maps.LatLng(37.478085, 126.879012)
            },
            {
                title: '한라원앤원타워 지식산업센터',
                latlng: new kakao.maps.LatLng(37.477105, 126.879731)
            },
            {
                title: '에스지위카스 제3공장',
                latlng: new kakao.maps.LatLng(37.476844, 126.879940)
            }
        ];
        // 마커 이미지의 이미지 주소입니다
        var imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";
        for (var i = 0; i < positions.length; i ++) {
            // 마커 이미지의 이미지 크기 입니다
            var imageSize = new kakao.maps.Size(24, 35);
            // 마커 이미지를 생성합니다
            var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);
            // 마커를 생성합니다
            var marker = new kakao.maps.Marker({
                map: map, // 마커를 표시할 지도
                position: positions[i].latlng, // 마커를 표시할 위치
                title : positions[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다
                image : markerImage // 마커 이미지
            });
        }
	</script>
</body>
{% endblock %}